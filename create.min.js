const creator=document.getElementById("creator"),postTitle=document.getElementById("postTitleCT"),postBody=document.getElementById("postBodyCT"),firebaseConfig={apiKey:"AIzaSyBaPvnzqor_4HfPZg6ayk30Tb1RpcMBWfo",authDomain:"test-66b58.firebaseapp.com",projectId:"test-66b58",storageBucket:"test-66b58.appspot.com",messagingSenderId:"39985206495",appId:"1:39985206495:web:c4200c42a6e7bad4da456a",measurementId:"G-G1RBDR6H1S"};firebase.initializeApp(firebaseConfig);const dbRef=firebase.database().ref();let url=location.href,paramaters=new URL(url).searchParams,gid=paramaters.get("gid"),gname=paramaters.get("gname");var mails;function post(){null==gid||null==gname?alert("Login and try again."):writePost(gid,gname,postTitle.value,postBody.value)}function importDoc(){null==gid||null==gname?alert("Login and try again."):importDocument(gid,postTitle.value)}function writePost(e,t,o,a){firebase.database().ref("mails/"+e+"/mails/"+o).set({body:a,title:o,user:t});let n=`explorer.html?gid=${e}&gname=${o}`;alert("Your post was successfully created."),creator.innerHTML=`<a href="https://gardennet.netlify.app/${n}" targrt="_blank">Click Here To Go To Your posted page's Link:<br> https://gardennet.netlify.app/${n}</a>`}function importDocument(e,t){dbRef.child("mails").child(e).child("mails").child(t).get().then(e=>{e.exists()?(mails=e.val(),loadData()):alert("404 not found")}).catch(e=>{console.error(e)})}function loadData(){postBody.textContent=mails.body}let help="\n\x3c!-- How to import a document --\x3e\nTo import a previous version of your document or project,\n you need to type it's title correctly in title input box\n then click import button at the top.\n If you type your previous document title correctly.\n Woosh! You will see your previous html codes.\n";function helpfunc(){postBody.textContent=help}
